{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Person","name","number","deletePerson","style","margin","onClick","marginLeft","Persons","persons","handleDeletePerson","map","person","key","PersonForm","props","onSubmit","onNameChange","onNumberChange","onChange","type","Filter","Notification","content","status","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","message","setMessage","useEffect","phonebookService","event","target","value","preventDefault","duplicate","forEach","duplicateName","window","confirm","updatedPerson","find","p","changedPerson","returnedPerson","catch","error","setTimeout","location","reload","updatePerson","newPerson","updatedData","concat","toLowerCase","includes","getFilteredPerson","updatedPersons","ReactDOM","render","document","getElementById"],"mappings":"qMAEMA,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,aAAhB,OACb,oCACE,0BAAMC,MAAO,CAACC,OAAO,IAClBJ,EADH,IACUC,GAEV,4BAAQI,QAASH,EAAcC,MAAO,CAACG,WAAY,SAAnD,UACA,+BAQWC,EALC,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASC,EAAX,EAAWA,mBAAX,OACdD,EAAQE,KAAI,SAAAC,GAAM,OAChB,kBAAC,EAAD,CAAQC,IAAKD,EAAOX,KAAMA,KAAMW,EAAOX,KAAMC,OAAQU,EAAOV,OAAQC,aAAc,kBAAMO,EAAmBE,UCQhGE,EAnBI,SAACC,GAAW,IACtBC,EAA0CD,EAA1CC,SAAUC,EAAgCF,EAAhCE,aAAcC,EAAkBH,EAAlBG,eAE/B,OACE,0BAAMF,SAAUA,GACd,sCACQ,2BAAOG,SAAUF,KAEzB,wCACU,2BAAOE,SAAUD,KAE3B,6BACE,4BAAQE,KAAK,UAAb,UCLOC,EAPA,SAAC,GAAD,IAAEF,EAAF,EAAEA,SAAF,OACb,iDAEE,2BAAOA,SAAUA,MC8BNG,EAjCM,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,OAC/B,GAAgB,OAAZD,EACF,OAAO,KAuBT,OACE,yBAAKnB,MAAkB,YAAXoB,EArBO,CACnBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGG,CACjBN,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,SAKXR,I,gBC5BDS,EAAU,oCAuBD,EArBA,WAGb,OAFgBC,IAAMC,IAAIF,GAEXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVM,SAAAG,GAEnB,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACG,EAAIF,GAElB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCwH5BM,EArIH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRnC,EADQ,KACCoC,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRI,EAHQ,KAGGC,EAHH,OAIcL,mBAAS,IAJvB,mBAIRM,EAJQ,KAIAC,EAJA,OAKgBP,mBAAS,CAACrB,QAAS,KAAMC,OAAQ,KALjD,mBAKR4B,EALQ,KAKCC,EALD,KAOhBC,qBAAU,WACRC,IAEGpB,MACC,SAAA1B,GAAO,OAAIoC,EAAWpC,QAEzB,IAqGH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcc,QAAS6B,EAAQ7B,QAASC,OAAQ4B,EAAQ5B,SACxD,kBAAC,EAAD,CAAQL,SAde,SAACqC,GAC1BL,EAAUK,EAAMC,OAAOC,UAcrB,0CACA,kBAAC,EAAD,CACE1C,SAxEY,SAACwC,GAEjB,GADAA,EAAMG,iBAnCc,SAACb,GACrB,IAAIc,GAAY,EAQhB,OANAnD,EAAQoD,SAAQ,SAAAjD,GACVA,EAAOX,OAAS6C,IAClBc,GAAY,MAITA,EA2BHE,CAAchB,GACZiB,OAAOC,QAAP,UACClB,EADD,8EAzBa,WACnB,IAAMmB,EAAgBxD,EAAQyD,MAAK,SAAAC,GAAC,OAAIA,EAAElE,OAAS6C,KAC7CsB,EAAa,2BAAQH,GAAR,IAAuB/D,OAAQ8C,IAElDO,EACUU,EAAczB,GAAI4B,GACzBjC,MAAK,SAAAkC,GACJxB,EAAWpC,EAAQE,KAAI,SAAAC,GAAM,OAAIA,EAAO4B,KAAOyB,EAAczB,GAAK5B,EAASyD,SAE5EC,OAAM,SAAAC,GACLlB,EAAW,CACT9B,QAAQ,kBAAD,OAAoB6C,EAAcnE,KAAlC,yCACPuB,OAAQ,UAEVgD,YAAW,WACTnB,EAAW,CAAC9B,QAAS,KAAMC,OAAQ,KACnCuC,OAAOU,SAASC,WACf,QAWHC,OAEG,CACL,IAAMC,EAAY,CAChB3E,KAAM6C,EACN5C,OAAQ8C,GAGVO,EACUqB,GACPzC,MAAK,SAAA0C,GACJhC,EAAWpC,EAAQqE,OAAOD,IAC1BxB,EAAW,CAAC9B,QAAQ,SAAD,OAAWqD,EAAU3E,MAAQuB,OAAQ,YACxDgD,YAAW,WACTnB,EAAW,CAAC9B,QAAS,KAAMC,OAAQ,OAClC,UAoDLP,aA1BmB,SAACuC,GACxBT,EAAWS,EAAMC,OAAOC,QA0BpBxC,eAvBqB,SAACsC,GAC1BP,EAAaO,EAAMC,OAAOC,UAwBxB,uCACA,6BACE,kBAAC,EAAD,CAASjD,QAnBW,SAACA,GAAD,OACxBA,EACCyC,QAAO,SAAAtC,GAAM,OACVA,EAAOX,KAAK8E,cAAcC,SAAS9B,EAAO6B,kBAgBxBE,CAAkBxE,GAAUC,mBApD/B,SAAAE,GACfmD,OAAOC,QAAP,iBAAyBpD,EAAOX,QAClCsD,EACgB3C,EAAO4B,IACpBL,MAAK,WACJoB,IACCpB,MAAK,SAAA+C,GAAc,OAAIrC,EAAWqC,SAEpCZ,OAAM,SAAAC,GACLlB,EAAW,CACT9B,QAAQ,kBAAD,OAAoBX,EAAOX,KAA3B,yCACPuB,OAAQ,UAEVgD,YAAW,WACTnB,EAAW,CAAC9B,QAAS,KAAMC,OAAQ,KACnCuC,OAAOU,SAASC,WACf,cC/FbS,IAASC,OACP,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.9cdc2493.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({name, number, deletePerson}) =>\n  <>\n    <span style={{margin:0}}>\n      {name} {number}\n    </span>\n    <button onClick={deletePerson} style={{marginLeft: '10px'}}>delete</button>\n    <br></br>\n  </>\n\nconst Persons = ({persons, handleDeletePerson}) =>\n  persons.map(person =>\n    <Person key={person.name} name={person.name} number={person.number} deletePerson={() => handleDeletePerson(person)}/>\n  )\n\nexport default Persons;","import React from 'react'\n\nconst PersonForm = (props) => {\n  const {onSubmit, onNameChange, onNumberChange} = props\n  \n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\n\nexport default PersonForm;","import React from 'react'\n\nconst Filter = ({onChange}) => (\n  <div>\n    filter shown with \n    <input onChange={onChange}/>\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ content, status }) => {\n  if (content === null) {\n    return null\n  }\n\n  const successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n  \n  return (\n    <div style={status === \"success\" ? successStyle : errorStyle}>\n      {content}\n    </div>\n  )\n}\n\n\nexport default Notification;","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\n\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport phonebookService from './services/phonebook'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState({content: null, status: ''})\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(\n        persons => setPersons(persons)\n      )\n  }, [])\n\n  const duplicateName = (newName) => {\n    let duplicate = false\n\n    persons.forEach(person => {\n      if (person.name === newName) {\n        duplicate = true\n      }\n    })\n\n    return duplicate\n  }\n\n  const updatePerson = () => {\n    const updatedPerson = persons.find(p => p.name === newName)\n    const changedPerson = { ...updatedPerson, number: newNumber}\n\n    phonebookService\n      .update(updatedPerson.id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== updatedPerson.id ? person : returnedPerson))\n      })\n      .catch(error => {\n        setMessage({\n          content: `Information of ${changedPerson.name} has already been removed from server`,\n          status: \"error\"\n        })\n        setTimeout(() => {\n          setMessage({content: null, status: ''})\n          window.location.reload()\n        }, 5000)\n      })\n\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (duplicateName(newName)) {\n      if (window.confirm(\n        `${newName} is already added to phonebook, replace the old number with the new one?`\n      )) {\n        updatePerson()\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      phonebookService\n        .create(newPerson)\n        .then(updatedData => {\n          setPersons(persons.concat(updatedData))\n          setMessage({content: `Added ${newPerson.name}`, status: \"success\"})\n          setTimeout(() => {\n            setMessage({content: null, status: ''})\n          }, 5000)\n        })\n    }\n  }\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name}`)){\n      phonebookService\n        .deletePerson(person.id)\n        .then(() => {\n          phonebookService.getAll()\n          .then(updatedPersons => setPersons(updatedPersons))\n        })\n        .catch(error => {\n          setMessage({\n            content: `Information of ${person.name} has already been removed from server`,\n            status: \"error\"\n          })\n          setTimeout(() => {\n            setMessage({content: null, status: ''})\n            window.location.reload()\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const getFilteredPerson = (persons) =>\n    persons\n    .filter(person =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification content={message.content} status={message.status} />\n      <Filter onChange={handleFilterChange} />\n      <h2>add a new </h2>\n      <PersonForm\n        onSubmit={addPerson}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <div>\n        <Persons persons={getFilteredPerson(persons)} handleDeletePerson={deletePerson}/>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}